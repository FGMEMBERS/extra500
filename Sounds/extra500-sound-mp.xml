<?xml version="1.0" encoding="UTF-8"?>

<!--
    This file is part of extra500

    The extra500 is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    The extra500 is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with extra500.  If not, see <http://www.gnu.org/licenses/>.

      Authors: Dirk Dittmann, Eric van den Berg, Thomas Grossberger 
      Date: 11.02.2014

      Last change:      Dirk Dittmann
      Date:             11.02.2014
-->
 
<PropertyList>

    <fx>

<!-- Engine 1 -->

       <ignition>
	       <name>mp_ignition</name>
	       <reference-dist>1.0</reference-dist>
	       <max-dist>1.0</max-dist>
	       <mode>looped</mode>
	       <path>Aircraft/extra500/Sounds/ignition.wav</path>
	       <condition>
		       <or>
			       <property>engines/engine[0]/ignition</property>
		       </or>
	       </condition>
	       <volume>
		       <offset>1.0</offset>
	       </volume>
	       <position>
		       <x>0</x>
		       <y>0</y>
		       <z>0</z>
	       </position>
       </ignition>

       <motoring>
	       <name>mp_motoring</name>
	       <reference-dist>300.0</reference-dist>
	       <max-dist>6000.0</max-dist>
	       <mode>once</mode>
	       <path>Aircraft/extra500/Sounds/motoring.wav</path>
	       <condition>
		       <or>
			       <!--<property>/fdm/jsbsim/aircraft/engine/motoring</property>-->
			       <property>sim/multiplay/generic/float[6]</property>
		       </or>
	       </condition>
	       <volume>
		       <offset>0.4</offset>
	       </volume>
	       <position>
		       <x>0</x>
		       <y>0</y>
		       <z>0</z>
	       </position>
       </motoring>

       <start>
	       <name>mp_engine_start</name>
	       <reference-dist>3.0</reference-dist>
	       <max-dist>6.0</max-dist>
	       <mode>once</mode>
	       <path>Aircraft/extra500/Sounds/spoolup.wav</path>
	       <condition>
		       <or>
			       <!--<property>/fdm/jsbsim/aircraft/engine/spooling-up</property>-->
			       <property>sim/multiplay/generic/float[7]</property>
		       </or>
	       </condition>
	       <volume>
		       <offset>0.9</offset>
	       </volume>
	       <position>
		       <x>0</x>
		       <y>0</y>
		       <z>0</z>
	       </position>
       </start>
<!---->
       <propeller>
	       <name>mp_propeller</name>
	       <mode>looped</mode>
	       <path>Aircraft/extra500/Sounds/wasp.wav</path>
	       <position>
		       <x>0</x>
		       <y>0</y>
		       <z>0</z>
	       </position>
	       <!---->
	       <condition>
		       <or>
			       <property>engines/engine[0]/running</property>		       
		       </or>
	       </condition>
	       <volume>
		       <!--<property>/engines/engine[0]/thrust_lb</property>-->
		       <property>sim/multiplay/generic/float[5]</property>
		       <type>abs</type>
		       <factor>0.0005</factor>
		       <offset>-0</offset>
		       <min>0.15</min>
		       <max>0.35</max>
	       </volume>
	       <pitch>
		       <!--<property>/engines/engine[0]/thruster/rpm</property>-->
		       <property>sim/multiplay/generic/float[0]</property>
		       <offset>0.5</offset>
			<factor>0.0005</factor>
			<min>0.5</min>
			<max>1.5</max>
	       </pitch>

	       
	       
       </propeller>
       
        <turbine>
            <name>mp_turbine</name>
            <reference-dist>1.0</reference-dist>
            <max-dist>4.0</max-dist>
            <mode>looped</mode>
            <path>Aircraft/extra500/Sounds/extra500turbineLOOP.wav</path>
	    <condition>
		    <!--<property>/fdm/jsbsim/propulsion/engine/set-running</property>-->
			<property>sim/multiplay/generic/float[8]</property>
	    </condition>
	    <position>
                 <x>0</x>
                <y>0</y>
                <z>0</z>
            </position>
            <pitch>
                <property>engines/engine[0]/n1</property>
                <offset>0.5</offset>
                <factor>0.01</factor>
		<min>0.5</min>
		<max>1.5</max>
            </pitch>
        </turbine>

        <shutdown>
            <name>mp_shutdown</name>
            <reference-dist>1.0</reference-dist>
            <max-dist>4.0</max-dist>
            <mode>once</mode>
            <path>Aircraft/extra500/Sounds/extra500turbineDOWN.wav</path>
	    <condition>
		    <!--<property>/fdm/jsbsim/aircraft/engine/spooling-down</property>-->
		   <property>sim/multiplay/generic/float[9]</property>
	    </condition>
	    <volume>
		    <offset>0.9</offset>
	    </volume>
            <position>
                 <x>0</x>
                <y>0</y>
                <z>0</z>
            </position>
        </shutdown>
		
	<tire-rumble>
		<name>mp_tire-rumble</name>
		<mode>looped</mode>
		<path>Sounds/rumble.wav</path>
		<condition>
			<or>
				<property>gear/gear[0]/wow</property>
				<property>gear/gear[1]/wow</property>
				<property>gear/gear[2]/wow</property>
			</or>
		</condition>
		<volume>
			<property>velocities/groundspeed-kt</property>
			<factor>0.01</factor>
			<max>0.9</max>
		</volume>
	</tire-rumble>
	
	<gear>
		<name>mp_gear</name>
		<mode>looped</mode>
		<path>Sounds/gear.wav</path>
		<!--<property>/systems/gear/motor/state</property>-->
		<property>sim/multiplay/generic/float[10]</property>
		<volume>
			<max>1.0</max>
		</volume>
		<reference-dist>10.0</reference-dist>
		<max-dist>100.0</max-dist>
	</gear>
	<gear-lock>
		<name>mp_gear-lock</name>
		<path>Sounds/gear-lck.wav</path>
		<condition>
		<equals>
			<property>gear/gear[0]/position-norm</property>
			<value>0</value>
		</equals>
		</condition>
		<reference-dist>10.0</reference-dist>
		<max-dist>100.0</max-dist>
	</gear-lock>
	<flap>
		<name>mp_flaps</name>
		<mode>in-transit</mode>
		<path>Sounds/flaps.wav</path>
		<property>surface-positions/flap-pos-norm</property>
		<volume>
			<factor>0.45</factor>
		</volume>
		<reference-dist>10.0</reference-dist>
		<max-dist>100.0</max-dist>
	</flap>
	</fx>
</PropertyList>