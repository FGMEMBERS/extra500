<?xml version="1.0"?>
<!--
    This file is part of extra500

    The Changer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    The Changer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with extra500.  If not, see <http://www.gnu.org/licenses/>.

      Authors: Thomas Grossberger and Dirk Dittmann
      Date: March 13 2013

      Last change:      Eric van den Berg
      Date:             12.04.13
-->

<PropertyList>

<path>extra500_InstrumentFlapsGear.ac</path>

<!--GearLampen-->
<animation>
	<type>material</type>
	<object-name>LightGear0.Lampe</object-name>
	  <condition>
    <equals>
      <property>/gear/gear[0]/position-norm</property>
      <value>1</value>
    </equals>
  </condition>
	<emission>	
		<red>0.0</red>	
		<green>0.5</green>	
		<blue>0.0</blue>
	</emission>
</animation>
<animation>
	<type>material</type>
	<object-name>LightGear1.Lampe</object-name>
	  <condition>
    <equals>
      <property>/gear/gear[1]/position-norm</property>
      <value>1</value>
    </equals>
  </condition>
	<emission>	
		<red>0.0</red>	
		<green>0.5</green>	
		<blue>0.0</blue>
	</emission>
</animation>
<animation>
	<type>material</type>
	<object-name>LightGear2.Lampe</object-name>
	  <condition>
    <equals>
      <property>/gear/gear[2]/position-norm</property>
      <value>1</value>
    </equals>
  </condition>
	<emission>	
		<red>0.0</red>	
		<green>0.5</green>	
		<blue>0.0</blue>
	</emission>
</animation>



<!--FlapsLampen-->
<animation>
	<type>material</type>
	<object-name>LightFlapTrans.Lampe</object-name>
	<condition> <!-- this is an ugly hack the trans lamp is solely dependent on the flap motor running -->
      <or>
            <and>
                  <greater-than>
                        <property>/fdm/jsbsim/fcs/flap-pos-deg</property>
                        <value>0.1</value>
                  </greater-than>
                  <less-than>
                        <property>/fdm/jsbsim/fcs/flap-pos-deg</property>
                        <value>14.9</value>
                  </less-than>
            </and>
            <and>
                  <greater-than>
                        <property>/fdm/jsbsim/fcs/flap-pos-deg</property>
                        <value>15.1</value>
                  </greater-than>
                  <less-than>
                        <property>/fdm/jsbsim/fcs/flap-pos-deg</property>
                        <value>29.9</value>
                  </less-than>
            </and>
      </or>
      </condition>
	<emission>	
		<red>0.9</red>	
		<green>0.4</green>	
		<blue>0.1</blue>
	</emission>
</animation>
<animation>
	<type>material</type>
	<object-name>LightFlap15.Lampe</object-name>
	<condition>
      <and>
            <greater-than>
                  <property>/fdm/jsbsim/fcs/flap-pos-deg</property>
                  <value>14</value>
            </greater-than>
            <less-than>
                  <property>/fdm/jsbsim/fcs/flap-pos-deg</property>
                  <value>16</value>
            </less-than>
      </and>
      </condition>
	<emission>	
		<red>0.0</red>	
		<green>0.5</green>	
		<blue>0.0</blue>
	</emission>
</animation>
<animation>
	<type>material</type>
	<object-name>LightFlap30.Lampe</object-name>
	<condition>
      <greater-than>
            <property>/fdm/jsbsim/fcs/flap-pos-deg</property>
            <value>29</value>
      </greater-than>
      </condition>
	<emission>	
		<red>0.0</red>	
		<green>0.5</green>	
		<blue>0.0</blue>
	</emission>
</animation>

<!--GearHebel-->
<animation>
  <type>rotate</type>
  <object-name>GearHebel</object-name>
 <property>/fdm/jsbsim/gear/gear-cmd-norm</property> 
  <interpolation>
            <entry>
                <ind>0</ind>
                <dep>-15</dep>
            </entry>
            <entry>
                <ind>1</ind>
                <dep>15</dep>
            </entry>
        </interpolation>
  <axis>
  <x1-m>-0.02287</x1-m>
  <y1-m>-0.15691</y1-m>
  <z1-m>0.005311</z1-m>
  <x2-m>-0.02287</x2-m>
  <y2-m>-0.15283</y2-m>
  <z2-m>0.005311</z2-m>
  </axis>
</animation>

<!--FlapsHebel-->
<animation>
  <type>rotate</type>
  <object-name>FlapHebel</object-name>
 <property>/fdm/jsbsim/fcs/flap-cmd-norm</property> 
  <interpolation>
            <entry>
                <ind>0</ind>
                <dep>25</dep>
            </entry>
            <entry>
                <ind>1</ind>
                <dep>-25</dep>
            </entry>
        </interpolation>
  <axis>
  <x1-m>-0.02287</x1-m>
  <y1-m>-0.19625</y1-m>
  <z1-m>0.00297</z1-m>
  <x2-m>-0.02287</x2-m>
  <y2-m>-0.19829</y2-m>
  <z2-m>0.00297</z2-m>
  </axis>
</animation>

<!--Dimming Test -->
<animation>
        <type>material</type>
        <object-name>GearPanel</object-name>
        <object-name>FlapPanel</object-name>

		<condition>
		<equals>
		<property>extra500/SidePanel/Light/Instrument/state</property>
		<value>1</value>
		</equals>
	</condition>
        <emission>
            <red>.4</red>
            <green>.4</green>
            <blue>.4</blue>
            <factor-prop>extra500/MasterPanel/Dimming/Instrument/state</factor-prop>
        </emission>
</animation>

</PropertyList>
