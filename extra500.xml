<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="extra500" version="2.0" release="ALPHA"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">
	
<!--
    This file is part of extra500

    The Changer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    The Changer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with extra500.  If not, see <http://www.gnu.org/licenses/>.

      Author: -
      Date: 2013-03-13

      Last change:      Eric van den Berg
      Date:             16.04.13
-->

	<fileheader>
		<author> Aeromatic v 0.95 </author>
		<filecreationdate>2013-03-13</filecreationdate>
		<version>$Revision: 0.0.1 $</version>
		<description> Models a extra500. </description>
	</fileheader>
	
	<!--
	File:     extra500.xml
	Inputs:
	name:          extra500
	type:          light single
	max weight:    2130 KG
	wing span:     38.0596 ft
	length:        33.23653 ft
	wing area:     unspecified
	gear type:     tricycle
	retractable?:  yes
	# engines:     1
	engine type:   turboprop
	engine layout: forward fuselage
	yaw damper?    yes
	Outputs:
	wing loading:  14.00 lb/sq-ft
	payload:       475.8 lbs
	CL-alpha:      5 per radian
	CL-0:          0.25
	CL-max:        1.4
	CD-0:          0.024
	K:             0.04
	
		-->
			
	<metrics>
		<wingarea  unit="M2">  14.025 </wingarea>
		<wingspan  unit="M" >  11.0 </wingspan>
		<wing_incidence>        2.00 </wing_incidence>
		<chord     unit="M" >   1.322 </chord>
		<htailarea unit="M2">   2.812 </htailarea>
		<htailarm  unit="M" >   5.562 </htailarm>
		<vtailarea unit="M2">   2.735 </vtailarea>
		<vtailarm  unit="M" >   4.736 </vtailarm>
		<location name="AERORP" unit="M">
			<x> 3.5305 </x>
			<y> 0.00 </y>
			<z> 2.40 </z>
		</location>
		<location name="EYEPOINT" unit="IN">
			<x>  45.393 </x>
			<y> -26.00 </y>
			<z>  80 </z>
		</location>
		<location name="VRP" unit="M">
			<x>3.146</x>
			<y>0</y>
			<z>1.98</z>	
		</location>
	</metrics>
						
	<mass_balance>
		<documentation>
			The Center of Gravity location, empty weight, in aircraft's own
			structural coord system.
		</documentation>
		
		<!--
			max weight 		:	2130	KG
			max emtpy		:	1445	KG
			max fuel		:	553.3	KG
			max pax			:	500	KG
		-->
		
		<ixx unit="SLUG*FT2">      2891 </ixx>
		<iyy unit="SLUG*FT2">      3919 </iyy>
		<izz unit="SLUG*FT2">      6136 </izz>
		<emptywt unit="KG" >      1445 </emptywt>
		<location name="CG" unit="M">
			<x> 3.53 </x>
			<y> 0.00 </y>
			<z> 1.615 </z>
		</location>
		<pointmass name="Pilot">
			<weight unit="KG"> 80 </weight>
			<location name="POINTMASS" unit="M">
				<x> 2.977 </x>
				<y> -0.42 </y>
				<z> 1.8 </z>
			</location>
		</pointmass>
		<pointmass name="Co-Pilot">
			<weight unit="KG"> 80 </weight>
			<location name="POINTMASS" unit="M">
				<x> 2.977 </x>
				<y> 0.42 </y>
				<z> 1.8 </z>
			</location>
		</pointmass>
		<pointmass name="Row 1 Left Passenger">
			<weight unit="KG"> 0 </weight>
			<location name="POINTMASS" unit="M">
				<x> 3.93 </x>
				<y> -0.42 </y>
				<z> 1.80 </z>
			</location>
		</pointmass>
		<pointmass name="Row 1 Right Passenger">
			<weight unit="KG"> 0 </weight>
			<location name="POINTMASS" unit="M">
				<x> 3.93 </x>
				<y> 0.42 </y>
				<z> 1.80 </z>
			</location>
		</pointmass>
		<pointmass name="Row 2 Left Passenger">
			<weight unit="KG"> 0 </weight>
			<location name="POINTMASS" unit="M">
				<x> 5.05 </x>
				<y> -0.35 </y>
				<z> 1.80 </z>
			</location>
		</pointmass>
		<pointmass name="Row 2 Right Passenger">
			<weight unit="KG"> 0 </weight>
			<location name="POINTMASS" unit="M">
				<x> 5.05 </x>
				<y> 0.35 </y>
				<z> 1.80 </z>
			</location>
		</pointmass>
		<pointmass name="Baggage">
			<weight unit="KG"> 0 </weight>  <!--max 90kg -->
			<location name="POINTMASS" unit="M">
				<x> 5.75 </x>
				<y>  0 </y>
				<z> 1.6 </z>
			</location>
		</pointmass>
	</mass_balance>
						
	<ground_reactions>
		
		<contact type="BOGEY" name="NOSE">
			<location unit="M">
				<x>  1.416 </x>
				<y>  0.00 </y>
				<z>  0.05 </z>				
			</location>
			<static_friction>  0.80 </static_friction>
			<dynamic_friction> 0.50 </dynamic_friction>
			<rolling_friction> 0.03 </rolling_friction>
			<spring_coeff unit="N/M">        40000 </spring_coeff>
			<damping_coeff unit="N/M/SEC">  34271.30 </damping_coeff>
			<max_steer unit="DEG"> 30 </max_steer>
			<brake_group>NONE</brake_group>
			<retractable>1</retractable>
		</contact>
			
		<contact type="BOGEY" name="LEFT_MAIN">
			<location unit="M">
				<x> 4.07 </x>
				<y> -1.06 </y>
				<z> 0.150 </z>
			</location>
			<static_friction>  0.80 </static_friction>
			<dynamic_friction> 0.50 </dynamic_friction>
			<rolling_friction> 0.03 </rolling_friction>
			<spring_coeff unit="N/M">        183000 </spring_coeff>
			<damping_coeff unit="N/M/SEC">  34271.30 </damping_coeff>
			<max_steer unit="DEG">0</max_steer>
			<brake_group>LEFT</brake_group>
			<retractable>1</retractable>
		</contact>
			
		<contact type="BOGEY" name="RIGHT_MAIN">
			<location unit="M">
				<x> 4.07 </x>
				<y>  1.06 </y>
				<z> 0.150 </z>
			</location>
			<static_friction>  0.80 </static_friction>
			<dynamic_friction> 0.50 </dynamic_friction>
			<rolling_friction> 0.03 </rolling_friction>
			<spring_coeff unit="N/M">        183000 </spring_coeff>
			<damping_coeff unit="N/M/SEC">  34271.30 </damping_coeff>
			<max_steer unit="DEG">0</max_steer>
			<brake_group>RIGHT</brake_group>
			<retractable>1</retractable>
		</contact>
		
		<contact type="STRUCTURE" name="LEFT_WING">
			<location unit="M">
				<x> 4.5 </x>
				<y> -5.8 </y>
				<z>  2.2 </z>
			</location>
			<static_friction>  1.00 </static_friction>
			<dynamic_friction> 1.00 </dynamic_friction>
			<spring_coeff unit="LBS/FT">   1830 </spring_coeff>
			<damping_coeff unit="LBS/FT/SEC">  183 </damping_coeff>
		</contact>
		
		<contact type="STRUCTURE" name="RIGHT_WING">
			<location unit="M">
				<x> 4.5 </x>
				<y>  5.8 </y>
				<z>  2.2 </z>
			</location>
			<static_friction>  1.00 </static_friction>
			<dynamic_friction> 1.00 </dynamic_friction>
			<spring_coeff unit="LBS/FT">1830 </spring_coeff>
			<damping_coeff unit="LBS/FT/SEC">183</damping_coeff>
		</contact>

		<contact type="STRUCTURE" name="VENTRAL FIN">
			<location unit="M">
				<x> 8.795 </x>
				<y> 0 </y>
				<z> 1.229 </z>
			</location>
			<static_friction>  1.00 </static_friction>
			<dynamic_friction> 1.00 </dynamic_friction>
			<spring_coeff unit="LBS/FT">1830</spring_coeff>
			<damping_coeff unit="LBS/FT/SEC">183</damping_coeff>
		</contact>
		
	</ground_reactions>
							
	<propulsion>
		<engine file="turbine_250-B17F2">
			<location unit="IN">
				<x>   9.00 </x>
				<y>   0.00 </y>
				<z>   59.00 </z>
			</location>
			<orient unit="DEG">
				<pitch> -3.00 </pitch>
				<roll>  0.00 </roll>
				<yaw>   0.00 </yaw>
			</orient>
			<feed>3</feed>
			<thruster file="propeller_MTV-5-1-D-C-F-R(A)">
				<location unit="IN">
					<x>  9.00 </x>
					<y>   0.00 </y>
					<z>   59.00 </z>
				</location>
				<orient unit="DEG">
					<pitch> -3.00 </pitch>
					<roll>  0.00 </roll>
					<yaw>   0.00 </yaw>
				</orient>
			</thruster>
		</engine>
		<!--
			Tank
			collector + main + auxiliary = 553.3 KG
		-->
		<tank type="FUEL" number="0">
			<!-- left auxiliary compartment -->
			<location unit="M">
				<x>  3.9 </x>
				<y> -3.576 </y>
				<z>  2.357 </z>
			</location>
			<priority> 0 </priority>
			<type>JET-A</type> 
			<capacity unit="KG"> 86.3 </capacity>
			<contents unit="KG"> 0.0 </contents>
		</tank>
		<tank type="FUEL" number="1">
			<!-- left main compartment -->
			<location unit="M">
				<x>  3.768 </x>
				<y> -1.787 </y>
				<z>  2.357 </z>
			</location>
			<priority> 0 </priority>
			<type>JET-A</type> 
			<capacity unit="KG"> 160.0 </capacity>
			<contents unit="KG"> 160.0 </contents>
		</tank>
		<tank type="FUEL" number="2">
			<!-- left collector compartment -->
			<location unit="M">
				<x>  3.768 </x>
				<y> -0.625 </y>
				<z>  2.357 </z>
			</location>
			<priority> 0 </priority>
			<type>JET-A</type> 
			<capacity unit="KG"> 30.4 </capacity>
			<contents unit="KG"> 30.4 </contents>
		</tank>
		<tank type="FUEL" number="3">
			<!-- Engine collector pipeline -->
			<location unit="M">
				<x> 0.4 </x>
				<y>   0.0 </y>
				<z>  0.0 </z>
			</location>
			<priority> 1 </priority>
			<type>JET-A</type> 
			<capacity unit="KG"> 0.25 </capacity>
			<contents unit="KG"> 0.25 </contents>
		</tank>
		<tank type="FUEL" number="4">
			<!-- right collector compartment -->
			<location unit="M">
				<x>  3.768 </x>
				<y>  0.625 </y>
				<z>  2.357 </z>
			</location>
			<priority> 0 </priority>
			<type>JET-A</type> 
			<capacity unit="KG"> 30.4 </capacity>
			<contents unit="KG"> 30.4 </contents>
		</tank>
		<tank type="FUEL" number="5">
			<!-- right main compartment -->
			<location unit="M">
				<x>  3.768 </x>
				<y>  1.787 </y>
				<z>  2.357 </z>
			</location>
			<priority> 0 </priority>
			<type>JET-A</type> 
			<capacity unit="KG"> 160.0 </capacity>
			<contents unit="KG"> 160.0 </contents>
		</tank>
		<tank type="FUEL" number="6">
			<!-- right auxiliary compartment -->
			<location unit="M">
				<x>  3.9 </x>
				<y>  3.576 </y>
				<z>  2.357 </z>
			</location>
			<priority> 0 </priority>
			<type>JET-A</type> 
			<capacity unit="KG"> 86.3 </capacity>
			<contents unit="KG"> 0.0 </contents>
		</tank>
	</propulsion>
							
	<flight_control name="FCS: extra500">
		
      <channel name="Pitch">

      <aerosurface_scale name="Elevator Control">
	      <input>fcs/elevator-cmd-norm</input>
	      <range>
                  <min>-0.5759 </min>
                  <max> 0.3141 </max>
	      </range>
	      <output>fcs/elevator-pos-rad</output>
      </aerosurface_scale>

   <aerosurface_scale name="elevator normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.5759 </min>
        <max>  0.3141 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

    <summer name="aircraft/hstab/elevator/d_e_free-clipped-rad">
      <description>stick-free elevator deflection rad</description>
      <input>aircraft/hstab/elevator/d_e_free-rad</input>
      <clipto>
            <min>
                  <property>aircraft/hstab/elevator/min-defl-rad</property>
            </min>
            <max>
                  <property>aircraft/hstab/elevator/max-defl-rad</property>            
            </max>
      </clipto>
    </summer>  

  </channel>

  <channel name="Pitch trim">

      <aerosurface_scale name="Pitch trim Control">
	      <input>fcs/pitch-trim-cmd-norm</input>
	      <range>
                  <min> -30 </min>
                  <max>  20 </max>
	      </range>
	      <output>fcs/pitch-trim-pos-deg</output>
      </aerosurface_scale>

  </channel> 

		
		<channel name="Roll">
				
			<aerosurface_scale name="Left Aileron Control">
				<input>fcs/aileron-cmd-norm</input>
				<range>
					<min> -0.4712 </min>
					<max>  0.3316 </max>
				</range>
				<output>fcs/left-aileron-pos-rad</output>
			</aerosurface_scale>
			
			<aerosurface_scale name="Right Aileron Control">
				<input>fcs/aileron-cmd-norm</input>
				<range>
					<min> -0.3316 </min>
					<max>  0.4712 </max>
				</range>
				<output>fcs/right-aileron-pos-rad</output>
			</aerosurface_scale>
			
			<aerosurface_scale name="left aileron normalization">
				<input>fcs/left-aileron-pos-rad</input>
				<domain>
					<min> -0.4712 </min>
					<max>  0.3316 </max>
				</domain>
				<range>
					<min> -1 </min>
					<max>  1 </max>
				</range>
				<output>fcs/left-aileron-pos-norm</output>
			</aerosurface_scale>
			
			<aerosurface_scale name="right aileron normalization">
				<input>fcs/right-aileron-pos-rad</input>
				<domain>
					<min> -0.3316 </min>
					<max>  0.4712 </max>
				</domain>
				<range>
					<min> -1 </min>
					<max>  1 </max>
				</range>
				<output>fcs/right-aileron-pos-norm</output>
			</aerosurface_scale>
			
		</channel>
		
		<property value="1">fcs/yaw-damper-enable</property>
		<channel name="Yaw">
			
			<summer name="Rudder Command Sum">
				<input>fcs/rudder-cmd-norm</input>
				<input>fcs/yaw-trim-cmd-norm</input>
				<clipto>
					<min> -1 </min>
					<max>  1 </max>
				</clipto>
			</summer>
			
			<scheduled_gain name="Yaw Damper Rate">
				<input>velocities/r-aero-rad_sec</input>
				<table>
					<independentVar lookup="row">velocities/ve-kts</independentVar>
					<tableData>
						30     0.00
						60     2.00
					</tableData>
				</table>
				<gain>fcs/yaw-damper-enable</gain>
			</scheduled_gain>
			
			<summer name="Rudder Sum">
				<input>fcs/rudder-command-sum</input>
				<input>fcs/yaw-damper-rate</input>
				<clipto>
					<min> -1.1 </min>
					<max>  1.1 </max>
				</clipto>
			</summer>
			
			<aerosurface_scale name="Rudder Control">
				<input>fcs/rudder-sum</input>
				<domain>
					<min> -1.1 </min>
					<max>  1.1 </max>
				</domain>
				<range>
					<min> -0.4363 </min>
					<max>  0.4363 </max>
				</range>
				<output>fcs/rudder-pos-rad</output>
			</aerosurface_scale>
			
			<aerosurface_scale name="rudder normalization">
				<input>fcs/rudder-pos-rad</input>
				<domain>
					<min> -0.4363 </min>
					<max>  0.4363 </max>
				</domain>
				<range>
					<min> -1 </min>
					<max>  1 </max>
				</range>
				<output>fcs/rudder-pos-norm</output>
			</aerosurface_scale>
			
		</channel>
		
		<channel name="Flaps">

			<kinematic name="Flaps Control">
				<input>fcs/flap-cmd-norm</input>
				<traverse>
					<setting>
						<position>0</position>
						<time>0</time>
					</setting>
					<setting>
						<position>15</position>
						<time>4</time>
					</setting>
					<setting>
						<position>30</position>
						<time>6</time>
					</setting>
				</traverse>
				<output>fcs/flap-pos-deg</output>
			</kinematic>

			<aerosurface_scale name="Flap Normalization">
				<input>fcs/flap-pos-deg</input>
				<domain>
					<min>0</min>
					<max>30</max>
				</domain>
				<range>
					<min>0</min>
					<max>1</max>
				</range>
				<output>fcs/flap-pos-norm</output>
			</aerosurface_scale>

		</channel>
		
		<channel name="Landing Gear">
			<kinematic name="Gear Control">
				<input>gear/gear-cmd-norm</input>
				<traverse>
					<setting>
						<position> 0 </position>
						<time>     0 </time>
					</setting>
					<setting>
						<position> 1 </position>
						<time>     13 </time>
					</setting>
				</traverse>
				<output>gear/gear-pos-norm</output>
			</kinematic>
			
		</channel>
			
	</flight_control>
	
	<aerodynamics>

<!--PRE-CALCS for Forces and Moments-->
<!-- local angles -->
    <function name="aircraft/wing/alpha0-deg">
      <description>negative alpha0-deg</description>
      <table>
	      <independentVar lookup="row">fcs/flap-pos-deg</independentVar>
		<tableData>
		      0   3.85
			15  9.97
			30  18.1
		</tableData>
	</table>
    </function>

    <function name="aircraft/wing/etha-deg">
      <description>downwash angle due to wing lift</description>
      <product>
            <value>0.3764</value> <!--de/dalpha -->
            <sum>
                  <property>aero/alpha-deg</property>
                  <property>aircraft/wing/alpha0-deg</property> <!--alpha0-deg (neg) -->
            </sum>  
      </product>
      </function>

    <function name="aircraft/hstab/alpha-deg">
      <description>angle of attack at stabilizer</description>
      <sum>
            <value>-1</value> <!--a_h_i-deg -->
            <product>
                  <value>57.297</value>
                  <atan2>
                        <sum>
                              <property>velocities/w-aero-fps</property>    
                              <product>
                                    <property>velocities/q-aero-rad_sec</property> 
                                    <value>18.25</value> <!--xac_h - xac_wing -->
                              </product>  
                        </sum>
                        <property>velocities/u-aero-fps</property>
                  </atan2>
            </product>
            <product>
                  <value>-1</value>
                  <property>aircraft/wing/etha-deg</property>
            </product>
      </sum>
    </function>

<!--wing and fuselage coefficients-->

    <function name="aero/coefficients/cl_ac-h">
       <description>CL of aircraft less tail</description>
       <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
            <independentVar lookup="table">velocities/mach</independentVar>
            <tableData breakPoint="0">
                        0 15 30
                  -10   -0.543 -0.003 0.717
                  0     0.34 0.88 1.6
                  10    1.223 1.763 2.483    
                  11    1.311 1.87  2.571
                  11.5  1.355 1.7   2.62
                  12    1.4   1.55  2.5
                  13    1.2   1.3   2
                  14    1     1.1   1.6
                  15    0.8   1     1.3
                  16    0.7   0.9   1.1   
                  17    0.7   0.9   1
            </tableData>
            <tableData breakPoint="0.4">
                        0 15 30
                  -10   -0.598 -0.058 0.662
                  0     0.35 0.89 1.61
                  9.5   1.251 1.791 2.511    
                  10    1.298 1.838 2.558
                  10.5  1.346 1.87  2.606
                  11    1.393 1.55  2.62
                  12    1.2  1.35  2.2
                  13    1   1.15  1.7
                  14    0.8   1     1.5
                  15    0.7   0.9   1.3   
                  16    0.7   0.9   1.1
              </tableData>
      </table>
    </function>

    <function name="aero/coefficients/cd_ac-h">
       <description>CD of aircraft less tail</description>
            <table>
                  <independentVar lookup="row">aero/coefficients/cl_ac-h</independentVar>
                  <tableData>
                  -2.62  0.439
                  -2.4   0.373
                  -2.2   0.317
                  -2.0   0.267
                  -1.8   0.221
                  -1.6   0.181
                  -1.4   0.16
                  -1.2   0.11
                  -0.8   0.055
                  -0.6   0.043
                  -0.4   0.035
                  -0.2   0.0295
                  0     0.027
                  0.2   0.0295
                  0.4   0.035
                  0.6   0.043
                  0.8   0.055
                  1.2   0.11
                  1.4   0.16
                  1.6   0.181
                  1.8   0.221
                  2.0   0.267
                  2.2   0.317
                  2.4   0.373
                  2.62  0.439
                  </tableData>
            </table>
    </function>

    <function name="aero/coefficients/cdi_ac-h">
      <description>CDi of aircraft less tail</description>
      <sum>
            <property>aero/coefficients/cd_ac-h</property>
            <value>-0.027</value>
      </sum>
    </function>

    <function name="aero/coefficients/cd_gear">
      <description>CD of gear</description>
      <sum>
            <product> <!-- drag change due to nose landing gear -->
                  <value>0.002</value>
                  <property>/gear/gear[0]/position-norm</property>
            </product>
            <product> <!-- drag change due to left landing gear -->
                  <value>0.014</value>
                  <property>/gear/gear[1]/position-norm</property>
            </product>
            <product> <!-- drag change due to right landing gear -->
                  <value>0.014</value>
                  <property>/gear/gear[2]/position-norm</property>
            </product>
      </sum>
    </function>

    <function name="aero/coefficients/cm_ac-h">
       <description>Cm of aircraft less tail</description>
       <sum>
            <product> <!--shift of lift vector due to increase of aoa --> 
                  <value>-0.4</value>
                  <property>aero/coefficients/cl_ac-h</property>
                  <property>aero/alpha-rad</property>      
            </product>
            <product> <!-- moment change due to wing drag vector not in ac cg -->
                  <value>-0.01921</value> <!--1/c 1/inch-->
                  <sum>
                        <value>-92.8</value> 
                        <property>inertia/z-cg-in</property>     
                  </sum>
                  <property>aero/coefficients/cdi_ac-h</property>
            </product>
            <table>  <!--flap moment change -->
                  <independentVar lookup="row">fcs/flap-pos-deg</independentVar>
                  <tableData>
                        0     -0.116
                        15    -0.226
                        30    -0.416
                  </tableData>
            </table>
            <product> <!-- moment change due to drag of nose landing gear -->
                  <value>-0.002</value>
                  <property>/gear/gear[0]/position-norm</property>
            </product>
            <product> <!-- moment change due to drag of left landing gear -->
                  <value>-0.014</value>
                  <property>/gear/gear[1]/position-norm</property>
            </product>
            <product> <!-- moment change due to drag of right landing gear -->
                  <value>-0.014</value>
                  <property>/gear/gear[2]/position-norm</property>
            </product>
      </sum>
    </function>

<!--horizontal stab coefficients-->

    <function name="velocities/hstab/v-fps">
      <description>airspeed at stabilizer in xz plane</description>
      <pow>
           <sum>
                  <pow>
                        <sum>
                              <property>velocities/w-aero-fps</property>    
                              <product>
                                    <property>velocities/q-aero-rad_sec</property> 
                                    <property>aircraft/hstab/x_ac-ft</property>
                              </product>
                        </sum>
                        <value>2</value>
                  </pow>  
                  <product>
                        <property>velocities/u-aero-fps</property>
                        <property>velocities/u-aero-fps</property>
                  </product>
            </sum>
            <value>0.5</value>
      </pow>
    </function>

    <function name="aircraft/hstab/elevator/ch_alpha-prad">
      <description>moment coeff around elevator hinge line due to alpha</description>
            <value>-0.1</value>
    </function>

    <function name="aircraft/hstab/elevator/ch_de-prad">
      <description>moment coeff around elevator hinge line due to its deflection</description>
            <sum>            
                  <property>aircraft/hstab/elevator/Ch_de</property>
                  <product>
                        <property>aircraft/hstab/elevator/Ch_de2</property>
                        <abs>
                              <property>aircraft/hstab/elevator/elevator-pos-rad</property>
                        </abs>
                  </product>
            </sum>
    </function>

    <function name="aircraft/hstab/elevator/H-nz-lbsft">
      <description>static moment coeff around elevator hinge line times nz</description>
            <product>
                       <property>aircraft/hstab/elevator/H-static-lbsft</property>
                       <property>accelerations/Nz</property>  <!-- ensuring stick force per g-->
            </product>
    </function>
    
    <function name="aircraft/hstab/elevator/H-ds-lbsft">
      <description>moment coeff around elevator hinge line due to down spring</description>
      <sum>
            <property>aircraft/hstab/elevator/downspring0-lbsft</property>
            <product>
                       <value>-1</value>
                       <property>aircraft/hstab/elevator/downspring-lbsftprad</property>
                       <property>aircraft/hstab/elevator/elevator-pos-rad</property>  
            </product>
      </sum>
    </function>

    <function name="aircraft/hstab/elevator/H-bw-lbsft">
      <description>moment coeff around elevator hinge line due to bobweight</description>
      <product>
            <property>aircraft/hstab/elevator/bobweight-lbsft</property>
            <property>accelerations/Nz</property>
      </product>
    </function>

    <function name="aircraft/hstab/elevator/H-alpha-lbsft">
      <product>
            <value>0.5</value>
            <property>atmosphere/rho-slugs_ft3</property>
            <property>velocities/hstab/v-fps</property>
            <property>velocities/hstab/v-fps</property>
            <property>aircraft/hstab/elevator/S-ft2</property>
            <property>aircraft/hstab/elevator/c_aero-ft</property>
            <property>aircraft/hstab/elevator/ch_alpha-prad</property>
            <product>
                  <value>0.017452933</value>
                  <property>aircraft/hstab/alpha-deg</property>
            </product>
      </product>
    </function>

    <function name="aircraft/hstab/elevator/H-trim-lbsft">
      <product>
            <property>aircraft/hstab/elevator/trim/coeff-norm</property>
            <property>fcs/pitch-trim-cmd-norm</property>
            <value>0.5</value>
            <property>atmosphere/rho-slugs_ft3</property>
            <property>velocities/hstab/v-fps</property>
            <property>velocities/hstab/v-fps</property>
            <property>aircraft/hstab/elevator/trim/S-ft2</property>
            <property>aircraft/hstab/elevator/trim/c_aero-ft</property>
      </product>
    </function>

    <function name="aircraft/hstab/elevator/d_e_free-rad">
      <description>stick-free elevator deflection rad</description>
      <product>
            <value>-1</value>
            <pow>
                  <product>
                        <value>0.5</value>
                        <property>atmosphere/rho-slugs_ft3</property>
                        <property>velocities/hstab/v-fps</property>
                        <property>velocities/hstab/v-fps</property>
                        <property>aircraft/hstab/elevator/S-ft2</property>
                        <property>aircraft/hstab/elevator/c_aero-ft</property>
                        <property>aircraft/hstab/elevator/ch_de-prad</property>
                  </product>
                  <value>-1</value>   
            </pow>
            <sum>
                  <property>aircraft/hstab/elevator/H-nz-lbsft</property>
                  <property>aircraft/hstab/elevator/H-ds-lbsft</property>
                  <property>aircraft/hstab/elevator/H-bw-lbsft</property>
                  <property>aircraft/hstab/elevator/H-alpha-lbsft</property>
                  <property>aircraft/hstab/elevator/H-trim-lbsft</property>                 
            </sum>
      </product>
    </function>

    <function name="aircraft/hstab/elevator/elevator-pos-rad">
            <sum>
                   <product>                              
                           <property>state/controls-fixed</property> 
                           <property>fcs/elevator-pos-rad</property>
                  </product>
                  <product>
                         <abs>
                               <sum>
                                  <property>state/controls-fixed</property>
                                  <value>-1</value> 
                              </sum>
                         </abs>
                         <property>aircraft/hstab/elevator/d_e_free-clipped-rad</property>
                  </product>
            </sum>
    </function>

    <function name="aircraft/hstab/elevator/elevator-pos-deg">
      <product>
            <property>aircraft/hstab/elevator/elevator-pos-rad</property>      
            <value>57.297</value>
      </product>
    </function>

    <function name="aircraft/hstab/elevator/H-de-lbsft">
      <product>
            <value>0.5</value>
            <property>atmosphere/rho-slugs_ft3</property>
            <property>velocities/hstab/v-fps</property>
            <property>velocities/hstab/v-fps</property>
            <property>aircraft/hstab/elevator/S-ft2</property>
            <property>aircraft/hstab/elevator/c_aero-ft</property>
            <property>aircraft/hstab/elevator/ch_de-prad</property>
            <property>aircraft/hstab/elevator/elevator-pos-rad</property>
      </product>
    </function>

    <function name="aircraft/hstab/elevator/H-total-lbsft">
      <sum>
            <property>aircraft/hstab/elevator/H-nz-lbsft</property>
            <property>aircraft/hstab/elevator/H-ds-lbsft</property>
            <property>aircraft/hstab/elevator/H-bw-lbsft</property>
            <property>aircraft/hstab/elevator/H-alpha-lbsft</property>
            <property>aircraft/hstab/elevator/H-trim-lbsft</property>
            <property>aircraft/hstab/elevator/H-de-lbsft</property>
      </sum>
    </function>

    <function name="aero/coefficients/cl_stab0">
       <description>Stabilizer liftcoeff</description>
       <sum>
            <value>0.0</value>            
            <table>
                  <independentVar lookup="row">aircraft/hstab/alpha-deg</independentVar>
                  <tableData>
                        -20         -0.75
                        -19         -1.3618
                        19          1.3618
                        20          0.75
                  </tableData>
            </table>
      </sum>
    </function>

    <function name="aero/coefficients/cd_stab0">
       <description>Stabilizer dragcoeff</description>
       <sum>
            <value>0.02</value>            
            <table>
                  <independentVar lookup="row">aircraft/hstab/alpha-deg</independentVar>
                  <tableData>
				-20 0.15
		      	-19 0.115 
                        -18 0.1035
                        -17 0.0923
                        -16 0.0817
                        -15 0.0718
                        -12.5 0.0499
                        -10   0.0319
                        -7.5  0.018
                        -5    0.008
                        -2.5  0.002
                        0     0
                        2.5   0.002
                        5     0.008
                        7.5   0.018
                        10    0.0319
                        12.5  0.0499
                        15    0.0718
                        16    0.0817
                        17    0.0923
                        18    0.1035
				19  0.115
				20  0.15
                  </tableData>
            </table>
      </sum>
    </function>

    <function name="aero/coefficients/cn_stab0">
       <description>Stabilizer normcoeff</description>
       <sum>
            <product>
                  <property>aero/coefficients/cl_stab0</property>
                  <cos>
                        <product>
                              <value>0.017452933</value>
                              <property>aircraft/hstab/alpha-deg</property>
                        </product>
                  </cos>     
            </product>
            <product>
                  <property>aero/coefficients/cd_stab0</property>
                  <sin>
                        <product>
                              <value>0.017452933</value>
                              <property>aircraft/hstab/alpha-deg</property>
                        </product>
                  </sin>     
            </product>
      </sum>
    </function>

    <function name="aero/coefficients/cn_stab_de">
       <description>Stabilizer normcoeff</description>
             <product>
                  <table>
                        <independentVar lookup="row">aircraft/hstab/alpha-deg</independentVar>
                        <tableData>
                              -180        0
                              -19.5       0
                              -19         1
                              19          1
                              19.5        0
                              180         0
                        </tableData>
                  </table>
                  <property>aircraft/hstab/elevator/elevator-pos-rad</property>
                  <value>2.094</value>                 
            </product>
    </function>

    <function name="aero/coefficients/cn_stab">
       <description>Stabilizer tang coeff</description>
       <sum>
            <property>aero/coefficients/cn_stab0</property>
            <property>aero/coefficients/cn_stab_de</property>
       </sum>
    </function>

    <function name="aero/coefficients/ct_stab">
       <description>Stabilizer tang coeff</description>
       <sum>
            <product>
                  <value>-1</value>
                  <property>aero/coefficients/cl_stab0</property>
                  <sin>
                        <product>
                              <value>0.017452933</value>
                              <property>aircraft/hstab/alpha-deg</property>
                        </product>
                  </sin>     
            </product>
            <product>
                  <property>aero/coefficients/cd_stab0</property>
                  <cos>
                        <product>
                              <value>0.017452933</value>
                              <property>aircraft/hstab/alpha-deg</property>
                        </product>
                  </cos>     
            </product>
      </sum>
    </function>

    <function name="aero/force/normal_stab">
       <description>Stabilizer normal force</description>
       <product>
            <value>0.5</value>
            <property>atmosphere/rho-slugs_ft3</property>
            <property>velocities/hstab/v-fps</property>
            <property>velocities/hstab/v-fps</property>
            <property>aircraft/hstab/S-ft2</property>
            <property>aero/coefficients/cn_stab</property>
       </product>
    </function>

    <function name="aero/force/tangent_stab">
       <description>Stabilizer tangent force</description>
       <product>
            <value>0.5</value>
            <property>atmosphere/rho-slugs_ft3</property>
            <property>velocities/hstab/v-fps</property>
            <property>velocities/hstab/v-fps</property>
            <property>aircraft/hstab/S-ft2</property>
            <property>aero/coefficients/ct_stab</property> 
       </product>
    </function>



<!--START of real summation of FORCES and MOMENTS -->
		
		<axis name="LIFT">
			
			<function name="aero/force/Lift_alpha">
				<description>Lift due to alpha</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<table>
						<independentVar lookup="row">aero/alpha-rad</independentVar>
						<tableData>
							-0.20 -0.750
							0.00  0.250
							0.23  1.400
							0.60  0.710
						</tableData>
					</table>
				</product>
			</function>
			
			<function name="aero/force/Lift_flap">
				<description>Delta Lift due to flaps</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/flap-pos-deg</property>
					<value> 0.01333 </value>
				</product>
			</function>
			
			<function name="aero/force/Lift_elevator">
				<description>Lift due to Elevator Deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/elevator-pos-rad</property>
					<value>0.2</value>
				</product>
			</function>
			
		</axis>
		
		<axis name="DRAG">
			
			<function name="aero/force/Drag_basic">
				<description>Drag at zero lift</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<table>
						<independentVar lookup="row">aero/alpha-rad</independentVar>
						<tableData>
							-1.57    1.500
							-0.26    0.031
							0.00    0.024
							0.26    0.031
							1.57    1.500
						</tableData>
					</table>
				</product>
			</function>
			
			<function name="aero/force/Drag_induced">
				<description>Induced drag</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>aero/cl-squared</property>
					<value>0.04</value>
				</product>
			</function>
			
			<function name="aero/force/Drag_mach">
				<description>Drag due to mach</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<table>
						<independentVar lookup="row">velocities/mach</independentVar>
						<tableData>
							0.00      0.000
							0.7      0.000
							1.10      0.023
							1.80      0.015
						</tableData>
					</table>
				</product>
			</function>
			
			<function name="aero/force/Drag_flap">
				<description>Drag due to flaps</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/flap-pos-deg</property>
					<value> 0.00100 </value>
				</product>
			</function>
			
			<function name="aero/force/Drag_gear">
				<description>Drag due to gear</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>gear/gear-pos-norm</property>
					<value>0.03</value>
				</product>
			</function>
					
			<function name="aero/force/Drag_beta">
				<description>Drag due to sideslip</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<table>
						<independentVar lookup="row">aero/beta-rad</independentVar>
						<tableData>
							-1.57    1.230
							-0.26    0.050
							0.00    0.000
							0.26    0.050
							1.57    1.230
						</tableData>
					</table>
				</product>
			</function>
			
			<function name="aero/force/Drag_elevator">
				<description>Drag due to Elevator Deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<abs>
						<property>fcs/elevator-pos-norm</property>
					</abs>
					<value>0.04</value>
				</product>
			</function>
			
		</axis>
		
		<axis name="SIDE">
			
			<function name="aero/force/Side_beta">
				<description>Side force due to beta</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>aero/beta-rad</property>
					<value>-1</value>
				</product>
			</function>
			
		</axis>
		
		<axis name="ROLL">
			
			<function name="aero/moment/Roll_beta">
				<description>Roll moment due to beta</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/beta-rad</property>
					<value>-0.1</value>
				</product>
			</function>
			
			<function name="aero/moment/Roll_damp">
				<description>Roll moment due to roll rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/bi2vel</property>
					<property>velocities/p-aero-rad_sec</property>
					<value>-0.4</value>
				</product>
			</function>
			
			<function name="aero/moment/Roll_yaw">
				<description>Roll moment due to yaw rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/bi2vel</property>
					<property>velocities/r-aero-rad_sec</property>
					<value>0.15</value>
				</product>
			</function>
			
			<function name="aero/moment/Roll_aileron">
				<description>Roll moment due to aileron</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>fcs/left-aileron-pos-rad</property>
					<value>0.17</value>
				</product>
			</function>
			
			<function name="aero/moment/Roll_rudder">
				<description>Roll moment due to rudder</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>fcs/rudder-pos-rad</property>
					<value>0.01</value>
				</product>
			</function>
			
		</axis>
		
		<axis name="PITCH">
			
			<function name="aero/moment/Pitch_alpha">
				<description>Pitch moment due to alpha</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/cbarw-ft</property>
					<property>aero/alpha-rad</property>
					<value>-0.5</value>
				</product>
			</function>
			
			<function name="aero/moment/Pitch_elevator">
				<description>Pitch moment due to elevator</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/cbarw-ft</property>
					<property>fcs/elevator-pos-rad</property>
					<table>
						<independentVar lookup="row">velocities/mach</independentVar>
						<tableData>
							0.0     -1.100
							2.0     -0.275
						</tableData>
					</table>
				</product>
			</function>
			
			<function name="aero/moment/Pitch_damp">
				<description>Pitch moment due to pitch rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/cbarw-ft</property>
					<property>aero/ci2vel</property>
					<property>velocities/q-aero-rad_sec</property>
					<value>-12</value>
				</product>
			</function>
			
			<function name="aero/moment/Pitch_alphadot">
				<description>Pitch moment due to alpha rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/cbarw-ft</property>
					<property>aero/ci2vel</property>
					<property>aero/alphadot-rad_sec</property>
					<value>-7</value>
				</product>
			</function>
			
		</axis>
		
		<axis name="YAW">
			
			<function name="aero/moment/Yaw_beta">
				<description>Yaw moment due to beta</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/beta-rad</property>
					<value>0.12</value>
				</product>
			</function>
			
			<function name="aero/moment/Yaw_damp">
				<description>Yaw moment due to yaw rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/bi2vel</property>
					<property>velocities/r-aero-rad_sec</property>
					<value>-0.15</value>
				</product>
			</function>
			
			<function name="aero/moment/Yaw_rudder">
				<description>Yaw moment due to rudder</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>fcs/rudder-pos-rad</property>
					<value>-0.1</value>
				</product>
			</function>
			
			<function name="aero/moment/Yaw_aileron">
				<description>Adverse yaw</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>fcs/left-aileron-pos-rad</property>
					<value>-0.01</value>
				</product>
			</function>
			
		</axis>
		
	</aerodynamics>
	
	<external_reactions>
	</external_reactions>
	
</fdm_config>
						
